/**
 * Finexia Design System - Main SCSS
 * 
 * This is the main entry point for our styles.
 * It imports fonts, Tailwind CSS, and provides additional global styles and utilities.
 */

/* Import fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Geist:wght@100..900&display=swap');

/* Import Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
@layer base {
  html {
    font-family: 'Geist', system-ui, sans-serif;
    @apply text-gray-800;
  }

  body {
    @apply min-h-screen w-full overflow-x-hidden;
  }

  #app {
    @apply flex flex-col min-h-screen;
  }

  h1 {
    @apply text-3xl font-bold mb-4;
  }

  h2 {
    @apply text-2xl font-bold mb-3;
  }

  h3 {
    @apply text-xl font-semibold mb-2;
  }

  h4 {
    @apply text-lg font-semibold mb-2;
  }

  h5,
  h6 {
    @apply text-base font-semibold mb-1;
  }

  p {
    @apply mb-4;
  }

  a {
    @apply text-primary hover:text-primary-dark transition-colors duration-200;
  }

  a:focus {
    @apply outline-none ring-2 ring-primary ring-opacity-50;
  }

  button:focus {
    @apply outline-none ring-2 ring-primary ring-opacity-50;
  }
}

/* Component styles */
@layer components {

  /* Container */
  .container {
    @apply w-full mx-auto px-4 md:px-6 max-w-7xl;
  }

  /* Section */
  .section {
    @apply py-8;
  }

  /* Card */
  .card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-4 transition-shadow duration-200;

    &:hover {
      @apply shadow-md;
    }
  }

  /* Badge */
  .badge {
    @apply inline-flex items-center justify-center px-2 h-6 text-xs font-medium rounded-full;

    &.badge-primary {
      @apply bg-primary bg-opacity-10 text-primary;
    }

    &.badge-success {
      @apply bg-success bg-opacity-10 text-success;
    }

    &.badge-error {
      @apply bg-error bg-opacity-10 text-error;
    }

    &.badge-warning {
      @apply bg-warning bg-opacity-10 text-warning;
    }

    &.badge-info {
      @apply bg-info bg-opacity-10 text-info;
    }
  }

  /* Direction badges commonly used in the app */
  .direction-badge {
    @apply w-6 h-6 rounded-full flex items-center justify-center;

    &.up,
    &.success {
      @apply bg-success bg-opacity-10 text-success;
    }

    &.down,
    &.error {
      @apply bg-error bg-opacity-10 text-error;
    }

    &.mini {
      @apply w-4 h-4;
    }
  }

  /* Form elements */
  .form-group {
    @apply mb-4;

    label {
      @apply block text-sm font-medium text-gray-700 mb-1;
    }

    input,
    select,
    textarea {
      @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary focus:border-primary transition-colors duration-200;
    }
  }

  /* Button styles */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200;

    &.btn-primary {
      @apply bg-primary text-white hover:bg-primary-dark focus:ring-primary;
    }

    &.btn-secondary {
      @apply bg-secondary text-white hover:bg-secondary-dark focus:ring-secondary;
    }

    &.btn-success {
      @apply bg-success text-white hover:bg-success-dark focus:ring-success;
    }

    &.btn-error {
      @apply bg-error text-white hover:bg-error-dark focus:ring-error;
    }

    &.btn-outline {
      @apply bg-transparent border-current hover:bg-opacity-10;
    }

    &.btn-sm {
      @apply px-3 py-1 text-sm;
    }

    &.btn-lg {
      @apply px-6 py-3 text-lg;
    }
  }

  /* Table styles */
  .table-container {
    @apply w-full overflow-x-auto;

    table {
      @apply min-w-full divide-y divide-gray-200;

      thead {
        @apply bg-gray-50;

        th {
          @apply px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider;
        }
      }

      tbody {
        @apply bg-white divide-y divide-gray-200;

        td {
          @apply px-6 py-4 whitespace-nowrap text-sm text-gray-500;
        }

        tr:hover {
          @apply bg-gray-50;
        }
      }
    }
  }

  /* States */
  .is-loading {
    @apply relative overflow-hidden;

    &::after {
      content: "";
      @apply absolute inset-0 bg-gray-200 bg-opacity-70;
    }
  }

  .is-disabled {
    @apply opacity-60 pointer-events-none;
  }

  /* Animations */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  .animate-slide-in {
    animation: slideIn 0.3s ease-in-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes slideIn {
    from {
      transform: translateY(10px);
      opacity: 0;
    }

    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
}

/* Utility styles */
@layer utilities {

  /* Flexbox utilities */
  .flex-center {
    @apply flex items-center justify-center;
  }

  .flex-between {
    @apply flex items-center justify-between;
  }

  .flex-column {
    @apply flex flex-col;
  }

  /* Text utilities */
  .text-truncate {
    @apply overflow-hidden text-ellipsis whitespace-nowrap;
  }

  /* Responsive utilities */
  .hide-on-mobile {
    @apply hidden md:block;
  }

  .hide-on-desktop {
    @apply block md:hidden;
  }

  /* Status indicators */
  .status-dot {
    @apply w-2.5 h-2.5 rounded-full;

    &.active {
      @apply bg-green-500;
    }

    &.inactive {
      @apply bg-red-500;
    }

    &.pending {
      @apply bg-yellow-500;
    }
  }
}

/* Dark Mode Overrides */
@media (prefers-color-scheme: dark) {
  .card {
    @apply bg-gray-800 border-gray-700;
  }

  .is-loading::after {
    @apply bg-gray-800;
  }

  .table-container {
    thead {
      @apply bg-gray-800;

      th {
        @apply text-gray-300;
      }
    }

    tbody {
      @apply bg-gray-900 divide-y divide-gray-700;

      td {
        @apply text-gray-300;
      }

      tr:hover {
        @apply bg-gray-800;
      }
    }
  }
}